/* Основни стилове */
:root {
  /* Разширена цветова схема */
  --primary-color: #4facfe;
  --primary-color-dark: #2389dd;
  --primary-gradient: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
  --secondary-color: #0bab64;
  --secondary-color-dark: #089856;
  --secondary-gradient: linear-gradient(45deg, #0bab64 0%, #3bb78f 100%);
  --accent-color: #ff7e5f;
  --accent-color-2: #6b5ce7;
  --accent-color-3: #00b894;
  --accent-gradient: linear-gradient(45deg, #ff7e5f 0%, #feb47b 100%);
  --dark-color: #334155;
  --light-color: #f8fafc;
  --text-color: #1e293b;
  --text-secondary-color: #475569; /* По-тъмен цвят за вторични текстове с по-добър контраст */

  /* Размери и разстояния */
  --border-radius-sm: 0.5rem;
  --border-radius: 0.75rem;
  --border-radius-lg: 1rem;
  --box-shadow: 0 0.625rem 0.9375rem -0.1875rem rgba(0, 0, 0, 0.05);
  --box-shadow-lg: 0 1rem 1.5rem -0.25rem rgba(0, 0, 0, 0.1);
  --box-shadow-hover: 0 10px 25px rgba(0, 0, 0, 0.1);
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1.5rem;
  --spacing-lg: 2.5rem;
  --spacing-xl: 4rem;

  /* Типография */
  --font-size-sm: 0.875rem;
  --font-size-base: 1.1rem;
  --font-size-lg: 1.25rem;
  --font-size-xl: 1.5rem;
  --font-size-2xl: 2rem;
  --font-size-3xl: 3rem;
  --line-height-normal: 1.7;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Контейнери */
  --container-max-width: 75rem;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

@supports (font-size-adjust: none) {
  html {
    font-size: 100%;
    font-size-adjust: 0.5;
  }
}

body {
  font-family: "Inter", "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont,
    sans-serif;
  line-height: var(--line-height-normal);
  color: var(--text-color);
  background-color: var(--light-color);
  font-size: var(--font-size-base);
}

.container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--spacing-md);
  width: 100%;
}

/* Skip Link за достъпност */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--primary-color);
  color: white;
  padding: 8px;
  z-index: 100;
  text-decoration: none;
  transition: top 0.3s ease;
}

.skip-link:focus {
  top: 0;
}

/* Опростена заглавна част */
.simplified-header {
  background: linear-gradient(
    135deg,
    var(--primary-color) 0%,
    var(--accent-color-2) 100%
  );
  padding: 2rem 0;
  position: relative;
  overflow: hidden;
  margin-bottom: var(--spacing-md);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  text-align: center;
}

.site-title-container {
  position: relative;
  z-index: 2;
}

.simplified-title {
  font-family: "Montserrat", sans-serif;
  font-size: 2.5rem;
  font-weight: 700;
  color: white;
  margin-bottom: 0.5rem;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
  letter-spacing: -0.01em;
}

.simplified-description {
  font-size: 1.1rem;
  color: rgba(255, 255, 255, 0.95);
  margin: 0 auto;
  max-width: 90%;
}

/* Основно съдържание */
main {
  padding: 2.5rem 0;
}

.intro,
.task-container,
.chart-container,
.practical-task {
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-lg);
  border: none;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.intro:hover,
.task-container:hover,
.chart-container:hover,
.practical-task:hover {
  box-shadow: var(--box-shadow-hover);
}

/* Стилизирани заглавия */
.section-title {
  font-family: "Montserrat", sans-serif;
  color: var(--dark-color);
  margin: var(--spacing-lg) 0 var(--spacing-md) 0;
  font-size: var(--font-size-2xl);
  border-bottom: none;
  padding-bottom: 0;
  position: relative;
  font-weight: var(--font-weight-bold);
  letter-spacing: -0.03em;
  display: inline-block;
}

.section-title::after {
  content: "";
  position: absolute;
  bottom: -0.625rem;
  left: 0;
  width: 4.375rem;
  height: 0.25rem;
  background: var(--primary-gradient);
  border-radius: 0.125rem;
}

.section-title::before {
  content: "";
  display: inline-block;
  width: 28px;
  height: 28px;
  margin-right: 12px;
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  vertical-align: middle;
}

h3 {
  font-family: "Montserrat", sans-serif;
  color: var(--dark-color);
  margin: var(--spacing-md) 0 var(--spacing-sm) 0;
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  letter-spacing: -0.02em;
}

p {
  margin-bottom: var(--spacing-md);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  max-width: 70ch;
}

/* Стилизирани списъци */
.custom-list,
.styled-list {
  padding-left: 0;
  list-style: none;
  margin-bottom: var(--spacing-md);
}

.custom-list li,
.styled-list li {
  position: relative;
  padding-left: 2rem;
  margin-bottom: 0.8rem;
}

.custom-list li::before,
.styled-list li::before {
  content: "✓";
  position: absolute;
  left: 0;
  color: var(--secondary-color);
  font-weight: bold;
  font-size: 1.2em;
}

.styled-list.expanded li {
  padding-left: 3rem;
  padding-bottom: 1rem;
  margin-bottom: 1rem;
  border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
}

.styled-list.expanded li::before {
  font-size: 1.5em;
  top: -0.2rem;
}

.styled-list.light li::before {
  color: white;
}

/* Декоративен box с градиентна граница */
.decorated {
  position: relative;
  border-width: 0;
  background-clip: padding-box;
}

.decorated::before {
  content: "";
  position: absolute;
  inset: 0;
  margin: -2px;
  border-radius: calc(var(--border-radius) + 2px);
  background: var(--primary-gradient);
  z-index: -1;
  opacity: 0.6;
  transition: opacity 0.3s ease;
}

.decorated:hover::before {
  opacity: 1;
}

.highlight-box {
  background-color: #f8f9fa;
  border-left: 0.25rem solid var(--accent-color);
  padding: var(--spacing-md);
  margin: var(--spacing-md) 0;
  border-radius: 0 var(--border-radius-sm) var(--border-radius-sm) 0;
}

.fact-box {
  background: linear-gradient(
    to right,
    rgba(79, 172, 254, 0.1),
    rgba(0, 242, 254, 0.1)
  );
  border-left: 0.25rem solid var(--primary-color);
  border-radius: 0 var(--border-radius) var(--border-radius) 0;
  position: relative;
  padding: var(--spacing-lg) var(--spacing-md);
  padding-top: calc(var(--spacing-lg) + 0.9375rem);
  margin: var(--spacing-lg) 0;
}

.fact-box:before {
  content: "Интересен факт";
  position: absolute;
  top: -0.75rem;
  left: var(--spacing-md);
  background: var(--primary-gradient);
  color: white;
  padding: 0.5rem 1.25rem;
  border-radius: 1.25rem;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  box-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1);
}

.formula {
  background: linear-gradient(145deg, #f6f9fc, #e3e8ec);
  padding: var(--spacing-md);
  border-radius: var(--border-radius);
  margin: var(--spacing-md) 0;
  font-family: "Courier New", monospace;
  font-weight: var(--font-weight-bold);
  text-align: center;
  border-left: 0.25rem solid var(--primary-color);
  position: relative;
  overflow: hidden;
}

.formula::before {
  content: "ƒ";
  position: absolute;
  top: 0.3125rem;
  right: 0.9375rem;
  font-size: var(--font-size-xl);
  color: rgba(79, 172, 254, 0.2);
  font-weight: var(--font-weight-bold);
}

.formula sub {
  color: var(--accent-color-2);
  font-weight: normal;
}

.solution {
  background-color: rgba(11, 171, 100, 0.05);
  border-left: 0.25rem solid var(--secondary-color);
  border-radius: 0 var(--border-radius) var(--border-radius) 0;
  padding: var(--spacing-md);
  margin: var(--spacing-md) 0;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.solution:hover {
  transform: translateY(-5px);
  box-shadow: var(--box-shadow-lg);
}

.solution h4 {
  color: var(--secondary-color);
  font-size: var(--font-size-lg);
  margin-bottom: var(--spacing-md);
  position: relative;
  padding-bottom: 0.625rem;
}

.solution h4::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 3.125rem;
  height: 0.1875rem;
  background: var(--secondary-gradient);
}

.solutions-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-md);
}

/* Стилизирани стъпки с counter */
.steps {
  counter-reset: step;
}

.step {
  position: relative;
  padding: var(--spacing-md) var(--spacing-md) var(--spacing-md) 3.125rem;
  margin-bottom: var(--spacing-md);
  background-color: rgba(255, 255, 255, 0.7);
  border-radius: var(--border-radius);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  counter-increment: step;
}

.step:hover {
  transform: translateX(0.3125rem);
  box-shadow: var(--box-shadow);
}

.step:before {
  content: counter(step);
  position: absolute;
  left: -0.9375rem;
  top: 50%;
  transform: translateY(-50%);
  background: var(--secondary-gradient);
  color: white;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-bold);
  box-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.step:hover:before {
  transform: translateY(-50%) scale(1.1);
}

.hint {
  background: linear-gradient(
    to right,
    rgba(255, 126, 95, 0.1),
    rgba(254, 180, 123, 0.1)
  );
  border-left: 0.25rem solid var(--accent-color);
  border-radius: 0 var(--border-radius) var(--border-radius) 0;
  padding: var(--spacing-lg) var(--spacing-md);
  padding-top: calc(var(--spacing-lg) + 0.9375rem);
  position: relative;
  margin: var(--spacing-md) 0;
}

.hint:before {
  content: "Съвет";
  position: absolute;
  top: -0.75rem;
  left: var(--spacing-md);
  background: var(--accent-gradient);
  color: white;
  padding: 0.5rem 1.25rem;
  border-radius: 1.25rem;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  box-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1);
}

.hint h4 {
  color: var(--accent-color);
  margin-bottom: var(--spacing-sm);
}

/* Стилове за details/summary */
details.styled-details {
  margin: var(--spacing-md) 0;
  background-color: #f8f9fa;
  border-radius: var(--border-radius);
  overflow: hidden;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

details.styled-details:hover {
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.styled-details summary {
  padding: var(--spacing-md);
  position: relative;
  cursor: pointer;
  font-weight: var(--font-weight-semibold);
  color: var(--dark-color);
  background-color: rgba(79, 172, 254, 0.1);
  transition: background-color 0.2s ease;
  outline: none;
}

.styled-details summary:hover {
  background-color: rgba(79, 172, 254, 0.15);
}

.styled-details summary:focus {
  outline: 2px solid var(--primary-color);
  outline-offset: 2px;
}

.styled-details summary::-webkit-details-marker {
  display: none;
}

.styled-details summary::before {
  content: "▶";
  position: absolute;
  right: var(--spacing-md);
  transform: translateY(-50%);
  top: 50%;
  transition: transform 0.3s ease;
  font-size: 0.8em;
}

.styled-details[open] summary::before {
  transform: translateY(-50%) rotate(90deg);
}

.details-content {
  padding: var(--spacing-md);
}

/* Обединено съдържание (заместващо табовете) */
.unified-content {
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-lg);
  border: none;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.unified-content:hover {
  box-shadow: var(--box-shadow-hover);
}

.content-wrapper {
  margin-top: var(--spacing-md);
}

/* Екологичен импакт карта */
.feature-section {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 20px;
  margin: var(--spacing-lg) 0;
}

.feature-text {
  grid-column: 1 / span 7;
}

.feature-image {
  grid-column: 8 / span 5;
  display: flex;
  align-items: center;
  justify-content: center;
}

.eco-impact-card {
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow-lg);
  overflow: hidden;
  width: 100%;
  max-width: 350px;
  transition: transform 0.3s ease;
}

.eco-impact-card:hover {
  transform: translateY(-10px);
}

.eco-icon {
  background: linear-gradient(
    45deg,
    var(--secondary-color),
    var(--accent-color-3)
  );
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.tree-icon {
  width: 60px;
  height: 60px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12.0181 19.8505C12.0181 20.4335 12.0156 21.0091 12.0339 21.5853C12.0461 21.9457 11.9381 22.0706 11.5638 22.0482C10.6289 21.9899 9.69099 21.9994 8.75567 22.0426C8.42148 22.0581 8.31439 21.9428 8.31439 21.606C8.3213 19.9147 8.3213 18.2234 8.31439 16.5321C8.31439 16.1894 8.4194 16.0832 8.75172 16.0886C9.44378 16.1001 10.1358 16.1001 10.8279 16.0886C11.1541 16.0838 11.2682 16.1839 11.2629 16.5217C11.2483 16.964 11.2568 17.4083 11.2629 17.8511C11.2666 18.1064 11.2968 18.3602 11.3528 18.6083C11.4122 18.3578 11.443 18.1008 11.4438 17.8425C11.4438 17.4216 11.4292 17.0006 11.4438 16.5797C11.4548 16.1959 11.5825 16.0751 11.9601 16.0886C12.6345 16.1142 13.3106 16.1043 13.9855 16.0886C14.3159 16.0792 14.4181 16.1959 14.4145 16.5183C14.4022 17.7682 14.4022 19.0181 14.4145 20.2681C14.4145 20.6009 14.3159 20.7109 13.9855 20.6951C13.3106 20.6614 12.6345 20.6693 11.9617 20.6951C11.5737 20.7135 11.4486 20.5895 11.4702 20.2043C11.5024 19.6337 11.4772 19.0598 11.4772 18.4885C11.4772 18.2752 11.4772 18.0619 11.4772 17.8486C11.4772 17.6352 11.4765 17.4291 11.4765 17.2158C11.4765 16.9892 11.4181 16.8309 11.1803 16.9189C10.9425 17.0068 10.9848 17.1803 10.9825 17.3824C10.9751 18.2068 10.9751 19.0314 10.9825 19.8558L12.0181 19.8505Z'/%3E%3Cpath d='M12.2299 6.34532C12.6528 6.41743 13.0835 6.42625 13.5092 6.37133C14.7074 6.2359 15.8226 6.56651 16.8928 7.17685C17.7968 7.68808 18.4704 8.40448 18.8428 9.38659C19.2544 10.4746 19.0818 11.5132 18.4691 12.4878C18.1035 13.0634 17.6116 13.5496 17.024 13.9084C16.7649 14.0654 16.6894 14.2194 16.7862 14.5081C17.5118 16.4131 16.5466 18.4076 14.6193 19.0761C14.3802 19.1651 14.1233 19.1857 13.8739 19.1358C13.6245 19.086 13.3925 18.9676 13.2039 18.7946C13.0153 18.6217 12.8779 18.4006 12.8087 18.1565C12.7396 17.9125 12.7419 17.6557 12.8153 17.4131C12.8757 17.2088 12.7493 17.1216 12.586 17.1216C12.0628 17.1281 11.5382 17.1281 11.015 17.1216C10.8456 17.1216 10.7475 17.2022 10.7809 17.3934C10.9097 18.174 10.5602 19.0075 9.73324 19.4044C8.90623 19.8012 7.95853 19.5737 7.38184 18.8625C6.65394 17.9648 6.48673 16.9168 6.87964 15.8339C7.01341 15.4607 7.28095 15.1426 7.63973 14.9329C7.69659 14.8988 7.74456 14.8501 7.77986 14.7906C7.81516 14.7311 7.83672 14.6628 7.84252 14.5919C7.88339 14.0142 7.67486 13.5233 7.3233 13.0932C6.69001 12.3106 6.24271 11.422 6.25193 10.3874C6.26661 8.9172 6.92837 7.79127 8.13997 6.95483C8.90025 6.40971 9.77289 6.12986 10.6936 6.04306C11.1973 5.99764 11.7042 6.02126 12.199 6.11333C12.2055 6.18741 12.2158 6.26536 12.2299 6.34532Z'/%3E%3Cpath d='M10.3654 3.91257C10.9729 4.39096 11.4599 4.85291 12.0093 5.19798C12.0961 5.25513 12.2184 5.24366 12.3275 5.24366C12.9642 5.25513 13.601 5.25908 14.2364 5.24761C14.6066 5.24099 14.6954 5.34958 14.5773 5.70276C14.3596 6.35847 14.3501 7.06017 14.5504 7.72314C14.6225 7.96552 14.5394 8.11063 14.2931 8.17765C14.1132 8.22726 13.9258 8.24605 13.7385 8.23316C13.5511 8.22028 13.368 8.17594 13.1966 8.10209C13.0251 8.02824 12.8682 7.92603 12.7341 7.8009C12.6 7.67578 12.4911 7.53001 12.413 7.37082C12.3542 7.26551 12.2734 7.16013 12.1751 7.09706C12.0767 7.034 11.9636 7.01465 11.8542 7.0414C11.7449 7.06815 11.6459 7.13961 11.5727 7.24261C11.4994 7.34561 11.4558 7.47453 11.4489 7.60933C11.4196 8.05484 11.4293 8.50298 11.4293 8.98138C10.9584 8.83626 10.6094 8.57918 10.312 8.23911C10.1308 8.03052 9.97602 7.79881 9.85248 7.54865C9.75051 7.37673 9.79541 7.28953 9.97895 7.20365C10.1274 7.13056 10.2669 7.04205 10.394 6.94013C10.5954 6.80122 10.6858 6.62826 10.6029 6.38881C10.5201 6.14935 10.3273 6.07044 10.107 6.11271C9.87149 6.15894 9.64412 6.23926 9.43357 6.35064C9.24513 6.452 9.0362 6.51438 8.82115 6.53473C8.60609 6.55509 8.38961 6.53307 8.18345 6.47C7.54399 6.24365 7.32502 5.48063 7.83387 5.01277C8.01806 4.8431 8.22977 4.70962 8.46003 4.61899C8.69029 4.52835 8.93479 4.48219 9.18154 4.48326C9.59339 4.49473 10.0039 4.47179 10.3654 3.91257Z'/%3E%3C/svg%3E");
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
}

.eco-stats {
  padding: var(--spacing-md);
}

.eco-stat-item {
  margin-bottom: var(--spacing-md);
  display: flex;
  flex-direction: column;
}

.eco-value {
  font-size: 1.8rem;
  font-weight: var(--font-weight-bold);
  color: var(--secondary-color);
}

.eco-unit {
  font-size: var(--font-size-base);
  color: var(--text-secondary-color);
  font-weight: var(--font-weight-medium);
}

.eco-label {
  font-size: var(--font-size-sm);
  color: var(--text-secondary-color);
  margin-top: 3px;
}

/* Футър */
footer {
  background-color: var(--dark-color);
  color: white;
  padding: 1.875rem 0;
}

.footer-grid {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: var(--spacing-lg);
}

.footer-title {
  font-family: "Montserrat", sans-serif;
  font-size: var(--font-size-xl);
  margin-bottom: var(--spacing-sm);
  color: white;
}

footer .nav-links {
  flex-direction: column;
  align-items: flex-start;
}

footer .nav-links a {
  color: white;
  opacity: 0.8;
  transition: opacity 0.3s ease, transform 0.3s ease;
  padding: var(--spacing-xs) 0;
}

footer .nav-links a:hover {
  opacity: 1;
  color: white;
  transform: translateX(5px);
}

footer .nav-links a:after {
  display: none;
}

.footer-text {
  font-size: var(--font-size-sm);
  opacity: 0.8;
  line-height: 1.6;
}

/* CSS стилове за подобреното сравнение на крушки */
.bulbs-comparison-container {
  background-color: white;
  border-radius: var(--border-radius-lg);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  padding: 2rem;
  margin: 3rem 0;
  overflow-x: auto; /* Добавяме хоризонтален скрол вместо пренареждане */
  position: relative;
}

.comparison-title {
  text-align: center;
  margin-bottom: 2rem;
  color: var(--dark-color);
  font-size: 1.75rem;
  position: relative;
  font-weight: 700;
}

.comparison-title:after {
  content: "";
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 4px;
  background: var(--primary-gradient);
  border-radius: 2px;
}

.bulbs-comparison {
  display: flex;
  align-items: stretch;
  justify-content: space-between;
  margin-bottom: 2rem;
  min-width: 800px; /* Гарантираме минимална ширина */
}

.bulb-card {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: #f8fafc;
  border-radius: var(--border-radius);
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
  min-width: 350px; /* Гарантираме минимална ширина на картите */
  max-width: 450px; /* Ограничаваме максималната ширина */
}

.bulb-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

.traditional {
  border-top: 5px solid #ffb74d;
}

.led {
  border-top: 5px solid #4facfe;
}

.bulb-header {
  padding: 1.5rem;
  display: flex;
  align-items: center;
  background-color: white;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.bulb-icon {
  width: 50px;
  height: 50px;
  margin-right: 1rem;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
}

.traditional-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FFB74D'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 0.55 0.45 1 1 1h6c0.55 0 1-0.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7zM9 21c0 0.55 0.45 1 1 1h4c0.55 0 1-0.45 1-1v-1H9v1z'/%3E%3C/svg%3E");
}

.led-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234facfe'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 0.55 0.45 1 1 1h6c0.55 0 1-0.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7zM9 21c0 0.55 0.45 1 1 1h4c0.55 0 1-0.45 1-1v-1H9v1z'/%3E%3C/svg%3E");
}

.bulb-title {
  margin: 0;
  font-size: 1.5rem;
  color: var(--dark-color);
  font-weight: 600;
}

.traditional .bulb-title {
  color: #e65100;
}

.led .bulb-title {
  color: #0288d1;
}

.bulb-body {
  padding: 1.5rem;
  flex-grow: 1;
}

.spec-item {
  display: flex;
  align-items: center;
  margin-bottom: 1.25rem;
  padding-bottom: 1.25rem;
  border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
}

.spec-item:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.spec-icon {
  width: 30px;
  height: 30px;
  margin-right: 1rem;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.7;
}

.power-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FF5722'%3E%3Cpath d='M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z'/%3E%3C/svg%3E");
}

.lifetime-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%239C27B0'%3E%3Cpath d='M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z'/%3E%3C/svg%3E");
}

.energy-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232196F3'%3E%3Cpath d='M7 2v11h3v9l7-12h-4l4-8z'/%3E%3C/svg%3E");
}

.efficiency-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234CAF50'%3E%3Cpath d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2V9h2v8zm4 0h-2v-6h2v6zm4 0h-2v-4h2v4z'/%3E%3C/svg%3E");
}

.spec-content {
  flex-grow: 1;
}

.spec-label {
  font-size: 0.9rem;
  color: var(--text-secondary-color);
  margin-bottom: 0.25rem;
}

.spec-value {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--dark-color);
}

.highlight-saving {
  color: #00c853;
  position: relative;
}

.highlight-saving:after {
  content: "↓ економия";
  font-size: 0.7rem;
  position: absolute;
  top: -15px;
  right: 0;
  background-color: rgba(0, 200, 83, 0.1);
  padding: 2px 6px;
  border-radius: 10px;
  color: #00c853;
  font-weight: normal;
}

.highlight-better {
  color: #2962ff;
  position: relative;
}

.highlight-better:after {
  content: "↑ по-добре";
  font-size: 0.7rem;
  position: absolute;
  top: -15px;
  right: 0;
  background-color: rgba(41, 98, 255, 0.1);
  padding: 2px 6px;
  border-radius: 10px;
  color: #2962ff;
  font-weight: normal;
}

.bulb-footer {
  padding: 1.5rem;
  background-color: rgba(0, 0, 0, 0.02);
  border-top: 1px solid rgba(0, 0, 0, 0.05);
}

.efficiency-meter {
  display: flex;
  flex-direction: column;
}

.efficiency-label {
  font-size: 0.9rem;
  color: var(--text-secondary-color);
  margin-bottom: 0.5rem;
}

.efficiency-bar {
  height: 10px;
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.efficiency-fill {
  height: 100%;
  border-radius: 5px;
  transition: width 1.5s ease-in-out;
}

.traditional-fill {
  background: linear-gradient(to right, #ff9800, #f57c00);
}

.led-fill {
  background: linear-gradient(to right, #2196f3, #0d47a1);
}

.efficiency-value {
  text-align: right;
  font-size: 1rem;
  font-weight: 600;
  color: var(--dark-color);
}

.comparison-divider {
  width: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  flex-shrink: 0; /* Предотвратяваме свиване */
}

.vs-badge {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--primary-gradient);
  color: white;
  font-weight: 700;
  border-radius: 50%;
  margin-bottom: 1rem;
  margin-top: 1rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  z-index: 1;
}

.divider-line {
  position: absolute;
  width: 2px;
  height: 80%;
  background-color: rgba(0, 0, 0, 0.1);
  z-index: 0;
}

.comparison-summary {
  display: flex;
  justify-content: space-between;
  margin-top: 2rem;
  background: linear-gradient(
    to right,
    rgba(79, 172, 254, 0.1),
    rgba(0, 242, 254, 0.1)
  );
  border-radius: var(--border-radius);
  padding: 1.5rem;
  border-left: 5px solid var(--primary-color);
  min-width: 800px; /* Гарантираме минимална ширина */
}

.summary-card {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 0 1rem;
}

.summary-card:not(:last-child) {
  border-right: 1px dashed rgba(0, 0, 0, 0.1);
}

.summary-icon {
  width: 40px;
  height: 40px;
  margin-bottom: 0.5rem;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
}

.savings-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300C853'%3E%3Cpath d='M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z'/%3E%3C/svg%3E");
}

.lifespan-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%239C27B0'%3E%3Cpath d='M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.48 2.54l2.6 1.53c.56-1.24.88-2.62.88-4.07 0-5.18-3.95-9.45-9-9.95zM12 19c-3.87 0-7-3.13-7-7 0-3.53 2.61-6.43 6-6.92V2.05c-5.06.5-9 4.76-9 9.95 0 5.52 4.47 10 9.99 10 3.31 0 6.24-1.61 8.06-4.09l-2.6-1.53C16.17 17.98 14.21 19 12 19z'/%3E%3C/svg%3E");
}

.money-icon {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FFD600'%3E%3Cpath d='M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z'/%3E%3C/svg%3E");
}

.summary-title {
  font-size: 0.9rem;
  color: var(--text-secondary-color);
  margin-bottom: 0.5rem;
}

.summary-value {
  font-size: 1.5rem;
  font-weight: 700;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Стилове за подобрена секция с условие на задачата */
.enhanced-task {
  padding: 0;
  overflow: hidden;
  border-radius: var(--border-radius-lg);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
}

.task-header {
  background: linear-gradient(
    135deg,
    var(--secondary-color) 0%,
    var(--accent-color-3) 100%
  );
  padding: 2rem;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.task-header .section-title {
  color: white;
  margin: 0;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}

.task-header .section-title::after {
  background: white;
}

.task-icon {
  width: 60px;
  height: 60px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='rgba(255,255,255,0.2)'%3E%3Cpath d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2v-4H8v-2h4V7h2v4h4v2h-4v4z'/%3E%3C/svg%3E");
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
}

.task-scenario {
  display: flex;
  background-color: #f8fafc;
  padding: 2rem;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.scenario-icon {
  width: 50px;
  height: 50px;
  margin-right: 1.5rem;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230bab64'%3E%3Cpath d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H9c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z'/%3E%3C/svg%3E");
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  flex-shrink: 0;
}

.scenario-content h3 {
  color: var(--secondary-color);
  margin-top: 0;
  margin-bottom: 0.5rem;
  font-size: 1.3rem;
}

.scenario-content p {
  margin: 0;
  line-height: 1.6;
}

.task-questions {
  padding: 2rem;
}

.task-questions h3 {
  color: var(--dark-color);
  font-size: 1.3rem;
  margin-top: 0;
  margin-bottom: 1.5rem;
}

.questions-list {
  list-style: none;
  counter-reset: question;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.questions-list li {
  display: flex;
  background-color: white;
  border-radius: var(--border-radius);
  padding: 0;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.questions-list li:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

.question-number {
  background: linear-gradient(135deg, var(--accent-color-2) 0%, #9c55f9 100%);
  color: white;
  font-weight: 700;
  width: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
}

.question-text {
  padding: 1rem 1.5rem;
  flex: 1;
}

.task-details {
  margin: 0;
  border-radius: 0;
}

.task-details summary {
  border-radius: 0;
  text-align: center;
  background-color: rgba(11, 171, 100, 0.1);
  color: var(--secondary-color);
  font-weight: 600;
  padding: 1rem;
}

.task-details summary::before {
  left: calc(50% - 8px);
  right: auto;
}

.approach-list {
  list-style: none;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.approach-list li {
  background-color: #f8fafc;
  padding: 1rem;
  border-radius: var(--border-radius);
  display: flex;
  align-items: center;
}

.approach-step {
  background-color: var(--secondary-color);
  color: white;
  font-size: 0.85rem;
  font-weight: 600;
  padding: 0.3rem 0.8rem;
  border-radius: 50px;
  margin-right: 1rem;
  flex-shrink: 0;
}

/* Подобрена заключителна секция */
.enhanced-conclusion {
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  padding: 0;
}

.conclusion-header {
  background: linear-gradient(135deg, #6b5ce7 0%, #4facfe 100%);
  padding: 2rem;
  color: white;
  position: relative;
}

.conclusion-title {
  color: white;
  margin-top: 0;
  margin-bottom: 0.5rem;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.conclusion-subtitle {
  font-size: 1.1rem;
  opacity: 0.9;
}

.conclusion-container {
  display: flex;
  flex-wrap: wrap;
  padding: 0;
}

.conclusion-text {
  flex: 1;
  min-width: 300px;
  padding: 2rem;
  background-color: white;
}

.conclusion-lead {
  font-size: 1.2rem;
  line-height: 1.6;
  margin-bottom: 2rem;
  color: var(--dark-color);
}

.key-findings {
  margin-bottom: 2rem;
}

.findings-title {
  font-size: 1.3rem;
  color: var(--accent-color-2);
  margin-bottom: 1.5rem;
  position: relative;
  padding-bottom: 0.8rem;
}

.findings-title:after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100px;
  height: 3px;
  background: linear-gradient(to right, var(--accent-color-2), #9c55f9);
  border-radius: 3px;
}

.findings-list {
  list-style: none;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}

.findings-list li {
  display: flex;
  align-items: center;
  padding: 0;
  transition: transform 0.3s ease;
}

.findings-list li:hover {
  transform: translateX(5px);
}

.finding-icon {
  width: 40px;
  height: 40px;
  margin-right: 1rem;
  background-size: 60%;
  background-position: center;
  background-repeat: no-repeat;
  background-color: rgba(107, 92, 231, 0.1);
  border-radius: 50%;
  flex-shrink: 0;
}

.energy-saving {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236b5ce7'%3E%3Cpath d='M7 2v11h3v9l7-12h-4l4-8z'/%3E%3C/svg%3E");
}

.money-saving {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236b5ce7'%3E%3Cpath d='M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z'/%3E%3C/svg%3E");
}

.time-saving {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236b5ce7'%3E%3Cpath d='M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z'/%3E%3Cpath d='M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z'/%3E%3C/svg%3E");
}

.eco-saving {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236b5ce7'%3E%3Cpath d='M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.25 1.43-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19C14.5 2.12 13.38 1 12 1S9.5 2.12 9.5 3.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z'/%3E%3C/svg%3E");
}

.long-term {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236b5ce7'%3E%3Cpath d='M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z'/%3E%3C/svg%3E");
}

.finding-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.4;
  color: var(--text-color);
}

.finding-value {
  color: var(--accent-color-2);
  font-size: 1.1rem;
  font-weight: 700;
  display: block;
  margin-bottom: 0.3rem;
}

.conclusion-footer {
  margin-top: 2rem;
  font-size: 1.1rem;
  line-height: 1.6;
  color: var(--dark-color);
  padding-top: 2rem;
  border-top: 1px solid rgba(0, 0, 0, 0.05);
}

.conclusion-visual {
  flex: 1;
  min-width: 350px;
  background-color: #f8fafc;
  padding: 2rem;
}

.results-dashboard {
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  overflow: hidden;
}

.dashboard-header {
  background: linear-gradient(
    135deg,
    rgba(107, 92, 231, 0.1) 0%,
    rgba(79, 172, 254, 0.1) 100%
  );
  padding: 1.5rem;
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--dark-color);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.dashboard-metrics {
  display: flex;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.metric-card {
  flex: 1;
  display: flex;
  align-items: center;
  padding: 1.5rem;
}

.metric-card:first-child {
  border-right: 1px solid rgba(0, 0, 0, 0.05);
}

.metric-icon {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin-right: 1rem;
  flex-shrink: 0;
  background-size: 50%;
  background-position: center;
  background-repeat: no-repeat;
}

.financial .metric-icon {
  background-color: rgba(255, 215, 0, 0.1);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffd700'%3E%3Cpath d='M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z'/%3E%3C/svg%3E");
}

.ecology .metric-icon {
  background-color: rgba(0, 184, 148, 0.1);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300b894'%3E%3Cpath d='M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.25 1.43-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19C14.5 2.12 13.38 1 12 1S9.5 2.12 9.5 3.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z'/%3E%3C/svg%3E");
}

.metric-text {
  flex: 1;
}

.metric-title {
  font-size: 0.9rem;
  color: var(--text-secondary-color);
  margin-bottom: 0.5rem;
}

.metric-value {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--dark-color);
}

.payback-chart {
  padding: 1.5rem;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.chart-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--dark-color);
  margin-bottom: 0.5rem;
}

.chart-subtitle {
  font-size: 0.9rem;
  color: var(--text-secondary-color);
  margin-bottom: 1.5rem;
}

.chart-visual {
  padding: 0 1rem;
}

.chart-labels {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.5rem;
  font-size: 0.8rem;
  color: var(--text-secondary-color);
}

.chart-bar {
  height: 10px;
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  position: relative;
  margin-bottom: 1.5rem;
}

.chart-progress {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background: linear-gradient(to right, #ffd700, #ffa726);
  border-radius: 5px;
}

.progress-marker {
  position: absolute;
  top: -25px;
  right: 0;
  background-color: #ffa726;
  color: white;
  padding: 0.2rem 0.5rem;
  font-size: 0.8rem;
  border-radius: 3px;
  white-space: nowrap;
  transform: translateX(50%);
}

.progress-marker:after {
  content: "";
  position: absolute;
  bottom: -5px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid #ffa726;
}

.long-term-chart {
  padding: 1.5rem;
}

.chart-timeline {
  position: relative;
  height: 100px;
  margin-top: 2rem;
}

.timeline-line {
  position: absolute;
  top: 35px;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(
    to right,
    var(--primary-color),
    var(--accent-color-2)
  );
  border-radius: 2px;
}

.timeline-point {
  position: absolute;
  transform: translateX(-50%);
}

.timeline-year {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.9rem;
  color: var(--text-secondary-color);
  white-space: nowrap;
}

.timeline-value {
  position: absolute;
  top: -30px;
  left: 50%;
  transform: translateX(-50%);
  background-color: white;
  border: 2px solid var(--accent-color-2);
  color: var(--accent-color-2);
  padding: 0.2rem 0.7rem;
  border-radius: 20px;
  font-weight: 600;
  font-size: 0.9rem;
  white-space: nowrap;
}

.timeline-point:after {
  content: "";
  position: absolute;
  top: 30px;
  left: 50%;
  transform: translateX(-50%);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: white;
  border: 2px solid var(--accent-color-2);
}

/* Премахваме медийната заявка за преподреждане на мобилни */
/* Вместо това добавяме скрол за малки екрани */
.bulbs-comparison-container::-webkit-scrollbar {
  height: 5px;
}

.bulbs-comparison-container::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}

.bulbs-comparison-container::-webkit-scrollbar-thumb {
  background: var(--primary-color);
  border-radius: 10px;
}

.bulbs-comparison-container::-webkit-scrollbar-thumb:hover {
  background: var(--primary-color-dark);
}

/* Специфични стилове за мобилни */
.bulbs-comparison-container {
  -webkit-overflow-scrolling: touch; /* По-плавен скрол на мобилни */
  scrollbar-width: thin; /* За Firefox */
  scrollbar-color: var(--primary-color) #f1f1f1; /* За Firefox */
}

/* По-лесно за докосване на мобилни */
.bulb-header,
.spec-item,
.summary-card {
  touch-action: manipulation;
}

.bulb-card {
  border-radius: 12px; /* По-леко заоблени ъгли */
  overflow: hidden;
}

/* Фикс на хоризонталния скрол за цялата страница */
html,
body {
  max-width: 100%;
  overflow-x: hidden;
}

/* Улучшенная доступность - высокий контраст */
@media (prefers-contrast: high) {
  :root {
    --primary-color: #0066cc;
    --secondary-color: #006633;
    --accent-color: #cc3300;
    --dark-color: #000000;
    --light-color: #ffffff;
    --text-color: #000000;
  }

  .fact-box,
  .hint,
  .step,
  .solution {
    border-width: 0.1875rem;
  }

  body {
    line-height: 1.8;
  }
}

/* Темная тема */
@media (prefers-color-scheme: dark) {
  :root {
    --primary-color: #4facfe;
    --secondary-color: #3bb78f;
    --dark-color: #1a202c;
    --light-color: #2d3748;
    --text-color: #e2e8f0;
    --text-secondary-color: #cbd5e0; /* Улучшенный контраст для темного режима */
  }

  body {
    background-color: #1a202c;
    color: #e2e8f0;
  }

  .intro,
  .task-container,
  .chart-container,
  .practical-task,
  details,
  .task-card,
  .eco-impact-card {
    background-color: #2d3748;
  }

  .solution,
  .step {
    background-color: rgba(59, 183, 143, 0.1);
  }

  table tr:nth-child(even) {
    background-color: #2d3748;
  }

  table td {
    border-bottom-color: #4a5568;
  }

  details,
  summary {
    background-color: #2d3748;
  }

  summary {
    background-color: rgba(79, 172, 254, 0.1);
  }
}

/* Печатный стиль */
@media print {
  nav,
  footer,
  .skip-link {
    display: none;
  }

  body {
    font-size: 12pt;
    color: #000;
    background-color: #fff;
  }

  .intro,
  .task-container,
  .chart-container,
  .practical-task {
    box-shadow: none;
    border: 1px solid #000;
    page-break-inside: avoid;
  }

  .fact-box,
  .hint,
  .solution,
  .step {
    page-break-inside: avoid;
    border: 1px solid #000;
  }

  .chart-image {
    max-width: 100% !important;
    page-break-inside: avoid;
  }

  a {
    color: #000;
    text-decoration: underline;
  }

  h2,
  h3,
  h4 {
    page-break-after: avoid;
  }

  h2::after {
    display: none;
  }

  table {
    page-break-inside: avoid;
  }

  .conclusion-grid,
  .feature-section {
    display: block;
  }

  .bar-chart,
  .months-chart,
  .eco-impact-card,
  .task-card,
  .tabs,
  .tab-content {
    break-inside: avoid;
  }
}

/* Подобрена мобилна оптимизация */

/* Базови мобилни настройки */
@media (max-width: 767px) {
  :root {
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --font-size-base: 0.95rem;
    --font-size-lg: 1.1rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
  }

  body {
    font-size: var(--font-size-base);
  }

  p {
    margin-bottom: var(--spacing-md);
    max-width: 100%;
  }

  .container {
    padding-left: 15px;
    padding-right: 15px;
  }

  /* Оптимизирана заглавна част */
  .simplified-header {
    padding: 1.5rem 0;
  }

  .simplified-title {
    font-size: 1.8rem;
  }

  .simplified-description {
    font-size: 0.9rem;
    max-width: 95%;
  }

  /* Интро секция */
  .intro,
  .task-container,
  .chart-container,
  .practical-task,
  .unified-content {
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-radius: 10px;
  }

  .section-title {
    font-size: var(--font-size-xl);
    margin-top: var(--spacing-md);
    margin-bottom: var(--spacing-md);
  }

  /* Сравнение на крушки за мобилни */
  .bulbs-comparison-container {
    padding: 1rem;
    border-radius: 10px;
  }

  /* Фиксиране на контейнера за хоризонтален скрол */
  .bulbs-comparison {
    gap: 15px;
  }

  .comparison-title {
    font-size: 1.3rem;
    margin-bottom: 1rem;
  }

  .comparison-title:after {
    width: 60px;
    height: 3px;
    bottom: -7px;
  }

  .bulb-card {
    min-width: 260px;
  }

  .comparison-divider {
    width: 40px;
  }

  .vs-badge {
    width: 30px;
    height: 30px;
    font-size: 0.8rem;
  }

  .divider-line {
    height: 70%;
  }

  .bulb-header {
    padding: 1rem;
  }

  .bulb-icon {
    width: 40px;
    height: 40px;
  }

  .bulb-title {
    font-size: 1.2rem;
  }

  .bulb-body {
    padding: 1rem;
  }

  .spec-item {
    margin-bottom: 0.8rem;
    padding-bottom: 0.8rem;
  }

  .spec-icon {
    width: 24px;
    height: 24px;
  }

  .spec-label {
    font-size: 0.8rem;
  }

  .spec-value {
    font-size: 1.1rem;
  }

  .highlight-saving:after,
  .highlight-better:after {
    font-size: 0.6rem;
    padding: 0 4px;
    top: -13px;
    right: -5px;
  }

  .bulb-footer {
    padding: 1rem;
  }

  .comparison-summary {
    padding: 1rem;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 0.5rem;
    min-width: auto;
    width: 100%;
  }

  .summary-card {
    padding: 0.5rem 0.25rem;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .summary-icon {
    width: 30px;
    height: 30px;
    margin-bottom: 0.5rem;
    margin-right: 0;
  }

  .summary-title {
    font-size: 0.7rem;
    text-align: center;
    margin-bottom: 0.3rem;
  }

  .summary-value {
    font-size: 1rem;
    text-align: center;
  }

  /* Оптимизация на секцията със заданието */
  .task-scenario {
    flex-direction: column;
    padding: 1rem;
  }

  .scenario-icon {
    margin-bottom: 1rem;
    margin-right: 0;
  }

  .task-questions {
    padding: 1rem;
  }

  .questions-list {
    gap: 1rem;
  }

  .question-number {
    min-width: 30px;
    height: 30px;
    font-size: 1rem;
  }

  .question-text {
    padding: 0.8rem;
    font-size: 0.9rem;
  }

  /* Стилизирани стъпки */
  .step {
    padding: 1rem 1rem 1rem 2.5rem;
    margin-bottom: 1rem;
  }

  .step:before {
    width: 2rem;
    height: 2rem;
    font-size: 1rem;
    left: -0.5rem;
  }

  /* Формули */
  .formula {
    padding: 1rem;
    font-size: 0.9rem;
    overflow-x: auto;
    white-space: nowrap;
  }

  /* Факт-бокс */
  .fact-box {
    padding: 1.5rem 1rem;
    padding-top: 2rem;
  }

  .fact-box:before {
    font-size: 0.8rem;
    padding: 0.3rem 0.8rem;
    top: -0.6rem;
  }

  /* Заключителна секция */
  .conclusion-container {
    padding: 0;
  }

  .conclusion-text {
    padding: 1rem;
  }

  .conclusion-lead {
    font-size: 1rem;
    margin-bottom: 1.5rem;
  }

  .findings-list li {
    margin-bottom: 1rem;
  }

  .finding-icon {
    width: 32px;
    height: 32px;
  }

  .finding-value {
    font-size: 1rem;
  }

  .conclusion-visual {
    padding: 1rem;
  }

  .dashboard-header {
    padding: 1rem;
    font-size: 1.1rem;
  }

  .metric-card {
    padding: 1rem;
  }

  .metric-icon {
    width: 40px;
    height: 40px;
  }

  .metric-value {
    font-size: 1.1rem;
  }

  .chart-title {
    font-size: 1rem;
  }

  .payback-chart,
  .long-term-chart {
    padding: 1rem;
  }

  /* Футър */
  .footer-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .footer-title {
    font-size: 1.2rem;
  }

  /* Подобрено докосване на мобилни */
  button,
  a,
  summary,
  .bulb-card,
  .task-card,
  .step,
  .eco-impact-card {
    min-height: 44px;
    touch-action: manipulation;
  }

  /* Подобрена читаемост на текст */
  .intro p,
  .task-container p,
  .unified-content p {
    line-height: 1.6;
  }

  /* Подобрен отстъп между елементите */
  h3 {
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    font-size: 1.25rem;
  }

  /* Оптимизация на feature section за мобилни */
  .feature-section {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .feature-text,
  .feature-image {
    grid-column: auto;
  }

  .eco-impact-card {
    max-width: 100%;
  }
}

/* Ориентация портрет специфични стилове */
@media (max-width: 767px) and (orientation: portrait) {
  .bulbs-comparison-container {
    padding: 0.75rem;
    margin-left: -15px;
    margin-right: -15px;
    width: calc(100% + 30px);
    border-radius: 0;
  }

  .bulbs-comparison {
    padding-bottom: 5px; /* За да се вижда скрол индикатора */
  }

  .comparison-title {
    padding: 0 15px;
  }
}
